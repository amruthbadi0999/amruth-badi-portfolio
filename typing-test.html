<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Tester - Test Your WPM</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #48dbfb 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .typing-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        .typing-header {
            margin-bottom: 30px;
        }

        .typing-title {
            color: #333;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .typing-subtitle {
            color: #666;
            font-size: 1.1rem;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .text-display {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            font-size: 1.2rem;
            line-height: 1.8;
            text-align: left;
            font-family: 'Courier New', monospace;
            min-height: 150px;
            position: relative;
        }

        .text-display .correct {
            background-color: #d4edda;
            color: #155724;
        }

        .text-display .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }

        .text-display .current {
            background-color: #fff3cd;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .typing-input {
            width: 100%;
            padding: 20px;
            font-size: 1.1rem;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            outline: none;
            font-family: 'Courier New', monospace;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .typing-input:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .typing-input:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn.secondary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn.secondary:hover {
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .results-container {
            display: none;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .results-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .result-item {
            text-align: center;
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .result-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .home-btn {
            background: linear-gradient(45deg, #4caf50, #45a049);
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
        }

        .home-btn:hover {
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.6);
        }

        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="typing-container">
        <div class="typing-header">
            <h1 class="typing-title">âš¡ Typing Speed Test</h1>
            <p class="typing-subtitle">Test your typing speed and accuracy!</p>
        </div>

        <div class="stats-container">
            <div class="stat-box">
                <div class="stat-label">WPM</div>
                <div class="stat-value" id="wpmDisplay">0</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Accuracy</div>
                <div class="stat-value" id="accuracyDisplay">100%</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Time Left</div>
                <div class="stat-value" id="timeDisplay">60s</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Characters</div>
                <div class="stat-value" id="charDisplay">0</div>
            </div>
        </div>

        <div class="text-display" id="textDisplay"></div>

        <textarea 
            class="typing-input" 
            id="typingInput" 
            placeholder="Click 'Start Test' and begin typing the text above..."
            disabled
        ></textarea>

        <div class="controls">
            <button class="btn" id="startBtn" onclick="startTest()">Start Test</button>
            <button class="btn secondary" id="resetBtn" onclick="resetTest()">Reset</button>
        </div>

        <div class="results-container" id="resultsContainer">
            <h3 class="results-title">ðŸŽ‰ Test Complete!</h3>
            <div class="results-grid">
                <div class="result-item">
                    <div class="result-value" id="finalWpm">0</div>
                    <div class="result-label">Words Per Minute</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalAccuracy">0%</div>
                    <div class="result-label">Accuracy</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalChars">0</div>
                    <div class="result-label">Characters Typed</div>
                </div>
                <div class="result-item">
                    <div class="result-value" id="finalErrors">0</div>
                    <div class="result-label">Errors</div>
                </div>
            </div>
            <a href="/" class="btn home-btn">Back to Home</a>
        </div>
    </div>

    <script>
        const sampleTexts = [
            "The quick brown fox jumps over the lazy dog. This pangram contains every letter of the alphabet and is commonly used for typing practice. It helps improve both speed and accuracy while covering all the essential keys on the keyboard.",
            "Technology has revolutionized the way we communicate, work, and live our daily lives. From smartphones to artificial intelligence, innovation continues to shape our future in ways we never imagined possible.",
            "Learning to type efficiently is a valuable skill in today's digital world. With practice and dedication, anyone can improve their typing speed and accuracy, making them more productive in their personal and professional endeavors.",
            "The art of programming requires patience, logic, and creativity. Developers write code that powers everything from simple websites to complex applications that millions of people use every day around the world.",
            "Reading books expands our knowledge, improves our vocabulary, and enhances our imagination. Whether fiction or non-fiction, books transport us to different worlds and help us understand diverse perspectives and cultures."
        ];

        let currentText = '';
        let startTime = null;
        let endTime = null;
        let timerInterval = null;
        let testDuration = 60; // seconds
        let timeLeft = testDuration;
        let isTestActive = false;
        let currentPosition = 0;
        let correctChars = 0;
        let totalChars = 0;
        let errors = 0;

        function initializeTest() {
            currentText = sampleTexts[Math.floor(Math.random() * sampleTexts.length)];
            displayText();
            resetStats();
        }

        function displayText() {
            const textDisplay = document.getElementById('textDisplay');
            textDisplay.innerHTML = '';
            
            for (let i = 0; i < currentText.length; i++) {
                const span = document.createElement('span');
                span.textContent = currentText[i];
                span.id = `char-${i}`;
                textDisplay.appendChild(span);
            }
        }

        function startTest() {
            if (isTestActive) return;
            
            isTestActive = true;
            startTime = new Date();
            currentPosition = 0;
            correctChars = 0;
            totalChars = 0;
            errors = 0;
            timeLeft = testDuration;
            
            document.getElementById('typingInput').disabled = false;
            document.getElementById('typingInput').focus();
            document.getElementById('startBtn').disabled = true;
            
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            timeLeft--;
            document.getElementById('timeDisplay').textContent = timeLeft + 's';
            
            if (timeLeft <= 0) {
                endTest();
            }
        }

        function endTest() {
            isTestActive = false;
            endTime = new Date();
            clearInterval(timerInterval);
            
            document.getElementById('typingInput').disabled = true;
            document.getElementById('startBtn').disabled = false;
            
            calculateResults();
            showResults();
        }

        function resetTest() {
            isTestActive = false;
            clearInterval(timerInterval);
            
            document.getElementById('typingInput').value = '';
            document.getElementById('typingInput').disabled = true;
            document.getElementById('startBtn').disabled = false;
            document.getElementById('resultsContainer').style.display = 'none';
            
            initializeTest();
        }

        function calculateResults() {
            const timeElapsed = (endTime - startTime) / 1000 / 60; // in minutes
            const wordsTyped = correctChars / 5; // standard: 5 characters = 1 word
            const wpm = Math.round(wordsTyped / timeElapsed);
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            
            document.getElementById('finalWpm').textContent = wpm;
            document.getElementById('finalAccuracy').textContent = accuracy + '%';
            document.getElementById('finalChars').textContent = totalChars;
            document.getElementById('finalErrors').textContent = errors;
        }

        function showResults() {
            document.getElementById('resultsContainer').style.display = 'block';
        }

        function resetStats() {
            timeLeft = testDuration;
            document.getElementById('wpmDisplay').textContent = '0';
            document.getElementById('accuracyDisplay').textContent = '100%';
            document.getElementById('timeDisplay').textContent = timeLeft + 's';
            document.getElementById('charDisplay').textContent = '0';
        }

        function updateStats() {
            if (!isTestActive) return;
            
            const timeElapsed = (new Date() - startTime) / 1000 / 60; // in minutes
            const wordsTyped = correctChars / 5;
            const wpm = timeElapsed > 0 ? Math.round(wordsTyped / timeElapsed) : 0;
            const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;
            
            document.getElementById('wpmDisplay').textContent = wpm;
            document.getElementById('accuracyDisplay').textContent = accuracy + '%';
            document.getElementById('charDisplay').textContent = totalChars;
        }

        // Event listener for typing input
        document.getElementById('typingInput').addEventListener('input', function(e) {
            if (!isTestActive) return;
            
            const typedText = e.target.value;
            totalChars = typedText.length;
            correctChars = 0;
            errors = 0;
            
            // Clear previous highlighting
            for (let i = 0; i < currentText.length; i++) {
                const charElement = document.getElementById(`char-${i}`);
                charElement.className = '';
            }
            
            // Check each character
            for (let i = 0; i < typedText.length && i < currentText.length; i++) {
                const charElement = document.getElementById(`char-${i}`);
                
                if (typedText[i] === currentText[i]) {
                    charElement.classList.add('correct');
                    correctChars++;
                } else {
                    charElement.classList.add('incorrect');
                    errors++;
                }
            }
            
            // Highlight current position
            if (typedText.length < currentText.length) {
                document.getElementById(`char-${typedText.length}`).classList.add('current');
            }
            
            updateStats();
            
            // Check if test is complete
            if (typedText.length >= currentText.length) {
                endTest();
            }
        });

        // Initialize the test
        initializeTest();
    </script>
</body>
</html>
